{"version":3,"file":"js/cadastrarPeticao.bundle.js","mappings":"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","sources":["webpack://projetoaplicado/./public/model/cadastrarPeticao.js","webpack://projetoaplicado/webpack/bootstrap","webpack://projetoaplicado/webpack/runtime/compat get default export","webpack://projetoaplicado/webpack/runtime/define property getters","webpack://projetoaplicado/webpack/runtime/hasOwnProperty shorthand","webpack://projetoaplicado/./public/Controller/cadastrarPeticao.controller.js"],"sourcesContent":["function validarCPF(cpf) {\r\n    cpf = cpf.replace(/\\D/g, '');\r\n    if (cpf.length !== 11 || /^(\\d)\\1+$/.test(cpf)) {\r\n        return false;\r\n    }\r\n    let soma = 0;\r\n    for (let i = 0; i < 9; i++) {\r\n        soma += parseInt(cpf.charAt(i)) * (10 - i);\r\n    }\r\n    let digitoVerif1 = soma % 11 < 2 ? 0 : 11 - (soma % 11);\r\n    if (parseInt(cpf.charAt(9)) !== digitoVerif1) {\r\n        return false;\r\n    }\r\n    soma = 0;\r\n    for (let i = 0; i < 10; i++) {\r\n        soma += parseInt(cpf.charAt(i)) * (11 - i);\r\n    }\r\n    let digitoVerif2 = soma % 11 < 2 ? 0 : 11 - (soma % 11);\r\n    return parseInt(cpf.charAt(10)) === digitoVerif2;\r\n}\r\n\r\nfunction validarCNPJ(cnpj) {\r\n    cnpj = cnpj.replace(/\\D/g, '');\r\n    if (cnpj.length !== 14 || /^(\\d)\\1+$/.test(cnpj)) {\r\n        return false;\r\n    }\r\n    let soma = 0, pos = 5;\r\n    for (let i = 0; i < 12; i++) {\r\n        soma += parseInt(cnpj.charAt(i)) * pos--;\r\n        if (pos < 2) pos = 9;\r\n    }\r\n    let digitoVerif1 = soma % 11 < 2 ? 0 : 11 - (soma % 11);\r\n    if (parseInt(cnpj.charAt(12)) !== digitoVerif1) {\r\n        return false;\r\n    }\r\n    soma = 0; pos = 6;\r\n    for (let i = 0; i < 13; i++) {\r\n        soma += parseInt(cnpj.charAt(i)) * pos--;\r\n        if (pos < 2) pos = 9;\r\n    }\r\n    let digitoVerif2 = soma % 11 < 2 ? 0 : 11 - (soma % 11);\r\n    return parseInt(cnpj.charAt(13)) === digitoVerif2;\r\n}\r\n\r\nfunction validarEmail(email) {\r\n    return /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email);\r\n}\r\n\r\nfunction validarValor(valor) {\r\n    return /^R\\$ \\d{1,3}(\\.\\d{3})*,\\d{2}$/.test(valor);\r\n}\r\n\r\nfunction validarTelefoneOficial(telefone) {\r\n    telefone = telefone.replace(/\\D/g, '');\r\n    if (telefone.length === 10 || telefone.length === 11) {\r\n        const ddd = parseInt(telefone.substring(0, 2));\r\n        if (ddd >= 11 && ddd <= 99) {\r\n            const numero = telefone.substring(2);\r\n            if (telefone.length === 10 && /^[2-5]\\d{7}$/.test(numero)) {\r\n                return true;\r\n            }\r\n            if (telefone.length === 11 && /^[6-9]\\d{8}$/.test(numero)) {\r\n                return true;\r\n            }\r\n        }\r\n    }\r\n    return false;\r\n}\r\n\r\nfunction montarOData() {\r\n    const nomePeticionante = document.getElementById('nomePeticionante')?.value || '';\r\n    const nomeAdvogado = document.getElementById('nomeAdvogado')?.value || '';\r\n    const foro = document.getElementById('foro')?.value || '';\r\n    const acidente = document.getElementById('acidente')?.value || '';\r\n    const valor = document.getElementById('valor')?.value || '';\r\n    const telefone = document.getElementById('telefone')?.value || '';\r\n    const procedimento = document.getElementById('procedimento')?.value || '';\r\n    const auxilio = document.getElementById('auxilio')?.value || '';\r\n    const email = document.getElementById('email')?.value || '';\r\n    const descricao = document.getElementById('descricao')?.value || '';\r\n    const cpfAtivo = document.getElementById('cpfAtivo')?.value || '';\r\n    const cnpjPassivo = document.getElementById('cnpjPassivo')?.value || '';\r\n\r\n    const getFormattedDate = () => {\r\n        const date = new Date();\r\n        const day = String(date.getDate()).padStart(2, '0');\r\n        const month = String(date.getMonth() + 1).padStart(2, '0');\r\n        const year = date.getFullYear();\r\n        return `${day}/${month}/${year}`;\r\n    };\r\n    const ultimaAlteracao = getFormattedDate();\r\n\r\n    const firebaseConfig = {\r\n        apiKey: \"AIzaSyAu1cx1J9ihabcJuaIu0clTXtU7JpyOwCM\",\r\n        authDomain: \"projetoaplicado-1.firebaseapp.com\",\r\n        databaseURL: \"https://projetoaplicado-1-default-rtdb.firebaseio.com\",\r\n        projectId: \"projetoaplicado-1\",\r\n        storageBucket: \"projetoaplicado-1.appspot.com\",\r\n        messagingSenderId: \"546978495496\",\r\n        appId: \"1:546978495496:web:502e5bab60ead7fcd0a5bd\",\r\n        measurementId: \"G-WB0MPN3701\"\r\n    };\r\n\r\n    if (!firebase.apps.length) {\r\n        firebase.initializeApp(firebaseConfig);\r\n    }\r\n\r\n    if (\r\n        !nomePeticionante ||\r\n        !nomeAdvogado ||\r\n        !foro ||\r\n        !acidente ||\r\n        !valor ||\r\n        !telefone ||\r\n        !procedimento ||\r\n        !auxilio ||\r\n        !email ||\r\n        !descricao ||\r\n        !cpfAtivo ||\r\n        !cnpjPassivo\r\n    ) {\r\n        return Promise.reject('Campos vazios');\r\n    }\r\n\r\n    if (!validarCPF(cpfAtivo)) {\r\n        return Promise.reject('CPF inválido');\r\n    }\r\n\r\n    if (!validarCNPJ(cnpjPassivo)) {\r\n        return Promise.reject('CNPJ inválido');\r\n    }\r\n\r\n    if (!validarEmail(email)) {\r\n        return Promise.reject('E-mail inválido');\r\n    }\r\n\r\n    if (!validarValor(valor)) {\r\n        return Promise.reject('Valor inválido');\r\n    }\r\n\r\n    if (!validarTelefoneOficial(telefone)) {\r\n        return Promise.reject('Telefone inválido');\r\n    }\r\n\r\n    const databaseURL = \"https://projetoaplicado-1-default-rtdb.firebaseio.com/\";\r\n    const collectionPath = \"Cliente\";\r\n    const url = `${databaseURL}/${collectionPath}.json`;\r\n\r\n    const oData = {\r\n        [nomePeticionante]: {\r\n            CNPJ: cnpjPassivo,\r\n            NomePeticionante: nomePeticionante,\r\n            NomeAdvogado: nomeAdvogado,\r\n            Foro: foro,\r\n            Acidente: acidente,\r\n            Valor: valor,\r\n            Procedimento: procedimento,\r\n            Telefone: telefone,\r\n            Auxilio: auxilio,\r\n            Email: email,\r\n            Descricao: descricao,\r\n            CPFAtivo: cpfAtivo,\r\n            UltimaAlt: ultimaAlteracao\r\n        }\r\n    };\r\n\r\n    const pdfFileElement = document.getElementById(\"pdfFile\");\r\n    if (pdfFileElement) {\r\n        const storage = firebase.storage();\r\n        const timestamp = new Date().getTime();\r\n        const fileName = `${timestamp}_${pdfFileElement.name}`;\r\n        const storageRef = storage.ref(`pdfs/${fileName}`);\r\n        const pdfFile = pdfFileElement.files[0];\r\n\r\n        return storageRef.put(pdfFile)\r\n            .then((snapshot) => snapshot.ref.getDownloadURL())\r\n            .then((downloadURL) => {\r\n                oData[nomePeticionante].pdfURL = downloadURL;\r\n\r\n                const url = `${databaseURL}/${collectionPath}/${nomeAdvogado}/${nomePeticionante}.json`;\r\n                return axios.post(url, oData);\r\n            })\r\n            .then(response => response.data)\r\n            .catch(error => Promise.reject(error));\r\n    } else {\r\n        return axios.post(url, oData)\r\n            .then(response => response.data)\r\n            .catch(error => Promise.reject(error));\r\n    }\r\n}\r\n\r\nmodule.exports = {\r\n    validarCPF,\r\n    validarCNPJ,\r\n    validarEmail,\r\n    validarValor,\r\n    validarTelefoneOficial,\r\n    montarOData\r\n};\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","import { validarCPF, validarCNPJ, validarEmail, validarValor, validarTelefoneOficial, montarOData } from '../model/cadastrarPeticao';\r\nimport \"../View/cadastrarPeticao.css\"\r\n\r\nfunction enviarFormulario(event) {\r\n    event.preventDefault();\r\n    montarOData()\r\n        .then(() => {\r\n            alert(\"Novo cliente cadastrado com sucesso!\");\r\n            window.location.reload();\r\n        })\r\n        .catch(error => {\r\n            alert(`Erro: ${error}`);\r\n        });\r\n}\r\n\r\ndocument.getElementById('formulario').addEventListener('submit', enviarFormulario);\r\n"],"names":["validarCPF","cpf","replace","length","test","soma","i","parseInt","charAt","digitoVerif1","digitoVerif2","validarCNPJ","cnpj","pos","validarEmail","email","validarValor","valor","validarTelefoneOficial","telefone","ddd","substring","numero","module","exports","montarOData","_document$getElementB","_document$getElementB2","_document$getElementB3","_document$getElementB4","_document$getElementB5","_document$getElementB6","_document$getElementB7","_document$getElementB8","_document$getElementB9","_document$getElementB10","_document$getElementB11","_document$getElementB12","date","day","month","year","nomePeticionante","document","getElementById","value","nomeAdvogado","foro","acidente","procedimento","auxilio","descricao","cpfAtivo","cnpjPassivo","ultimaAlteracao","Date","String","getDate","padStart","getMonth","getFullYear","concat","firebase","apps","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","Promise","reject","collectionPath","url","oData","CNPJ","NomePeticionante","NomeAdvogado","Foro","Acidente","Valor","Procedimento","Telefone","Auxilio","Email","Descricao","CPFAtivo","UltimaAlt","pdfFileElement","storage","timestamp","getTime","fileName","name","storageRef","ref","pdfFile","files","put","then","snapshot","getDownloadURL","downloadURL","pdfURL","axios","post","response","data","error","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","n","getter","__esModule","d","a","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","addEventListener","event","preventDefault","alert","window","location","reload"],"sourceRoot":""}